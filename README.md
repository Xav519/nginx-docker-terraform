# Nginx Docker on AWS Elastic Beanstalk Project

## Project Motivation

I decided to build this project to get real, hands-on experience with AWS cloud services working together. In this project, I deployed a Dockerized Nginx application to AWS Elastic Beanstalk using Terraform.

This helped me learn how different AWS services can communicate and work together automatically, while also practicing Terraform for setting up and managing cloud infrastructure. The goal was to better understand cloud deployment automation, containerized applications, and infrastructure as code in a practical, real-world scenario.

---

## Project Overview

This project demonstrates how to deploy a Dockerized Nginx web application on AWS Elastic Beanstalk using Terraform for infrastructure as code.

### Architecture Overview

![alt text](ArchitectureBeanstalkAWS.png)
*This architecture diagram was created using **MermaidChart** (https://www.mermaidchart.com).* <br /><br />

The architecture consists of:

* **Elastic Beanstalk Environment**: Hosts the Docker container running Nginx.
* **S3 Bucket**: Stores application versions (zip files of the Docker deployment).
* **Terraform**: Configures and deploys all AWS resources automatically.
* **Docker Hub**: Stores the Docker image for Nginx.


---

## Table of Contents

1. [Project Motivation](#project-motivation)
2. [Architecture Overview](#architecture-overview)
3. [Screenshots](#screenshots)
4. [Prerequisites](#prerequisites)
5. [Project Setup](#project-setup)
6. [Terraform Configuration](#terraform-configuration)
7. [Deploying the Application](#deploying-the-application)
8. [How the Deployment Works](#how-the-deployment-works)
9. [Testing the Deployment](#testing-the-deployment)
10. [Terraform Workflow](#terraform-workflow)
11. [Cleanup](#cleanup)
12. [References](#references)

## Prerequisites

* AWS account with permissions for Elastic Beanstalk, S3, and IAM.
* Terraform installed.
* Docker installed and configured locally.
* Docker Hub account for storing images.
* Git and GitHub for version control.

---

## Installing Terraform

1. Download Terraform from [Terraform Downloads](https://developer.hashicorp.com/terraform/downloads) and add it to your PATH.
2. Verify installation:

```bash
terraform -v
```

---

## Project Setup

1. Create project folder:

```bash
mkdir AWS_projects/nginx-docker-terraform
cd AWS_projects/nginx-docker-terraform
```

2. Create a Dockerfile for Nginx:

```dockerfile
FROM nginx:latest
COPY . /usr/share/nginx/html
```

3. Create Terraform files: `main.tf`, `variables.tf`.
4. Zip your application if needed for Elastic Beanstalk (`nginx-app.zip`).

---

## Terraform Configuration

Terraform provisions:

* **S3 Bucket**: For storing application versions.
* **Elastic Beanstalk Application**: Nginx deployment container.
* **Elastic Beanstalk Environment**: Public-facing load-balanced environment.
* **Docker Build & Push**: Local-exec builds and pushes Docker image to Docker Hub.

**Example main.tf snippet**:

```hcl
resource "null_resource" "docker_build_push" {
  provisioner "local-exec" {
    command = <<EOT
      docker build -t ${var.docker_username}/${var.docker_image}:latest .
      docker login -u ${var.docker_username}
      docker push ${var.docker_username}/${var.docker_image}:latest
    EOT
  }
}
```

---

## Docker Image

* Docker image stored on Docker Hub: `xav519/nginx-docker-terraform`.
* Public image ensures Elastic Beanstalk can pull it.

---

## Testing the Application

1. Terraform deploys Elastic Beanstalk with the Docker image.
2. Once deployment succeeds, access the public URL generated by Elastic Beanstalk, e.g.:
![alt text](OutputsBeanstalkURL.png)

3. You should see the Nginx welcome page.
![alt text](WebsiteAccess.png)

---

## Terraform Workflow

1. Initialize Terraform:

```bash
terraform init
```

2. Plan resources:

```bash
terraform plan
```

3. Apply resources:

```bash
terraform apply
```

Confirm with `yes` when prompted.

4. Verify the Elastic Beanstalk environment and Docker deployment in AWS Console.

---

## Cleanup

To remove all resources:

```bash
terraform destroy
```

---

## References

* HashiCorp. Terraform Documentation. Retrieved from [https://developer.hashicorp.com/terraform/docs](https://developer.hashicorp.com/terraform/docs)
* Amazon Web Services. AWS Elastic Beanstalk Documentation. Retrieved from [https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/)
* Amazon Web Services. AWS S3 Documentation. Retrieved from [https://docs.aws.amazon.com/s3/index.html](https://docs.aws.amazon.com/s3/index.html)
* Docker. Docker Documentation. Retrieved from [https://docs.docker.com/](https://docs.docker.com/)
* OpenAI. ChatGPT (GPT-4/5 Model). Retrieved from [https://chat.openai.com](https://chat.openai.com)

---

â€” Xavier Dupuis
